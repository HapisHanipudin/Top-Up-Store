import{u as S,l as R,r as y,o as U,b as o,c as s,e as a,t as n,F as d,f as u,m as p,k as h,n as x,p as D,g as _,h as b,s as g,v as B,x as C,y as w,z as k}from"./index-GupYqP_g.js";const E={class:"container flex flex-col gap-3 p-4"},N={class:"text-3xl font-bold mt-3"},I={class:"flex flex-col lg:flex-row gap-3"},z={class:"lg:w-96 w flex flex-col gap-3"},F=["src"],L={class:"bg-slate-700 p-3 rounded-md"},$={class:"flex flex-col w-full"},j={action:"#",class:"flex flex-col gap-3"},G={class:"flex flex-col gap-3"},q=["for"],A=["type","placeholder","id","onUpdate:modelValue"],H=["id","onUpdate:modelValue"],J={selected:"",value:""},K={class:"flex flex-col gap-3 bg-slate-700 p-3 rounded-lg"},O=a("label",{for:"category"},"Category",-1),P={class:"flex gap-3"},Q=["value"],T=["src"],W=["for"],X={key:1,class:"flex flex-col relative w-4/12 p-3 rounded-lg items-center text-center bg-slate-600"},Y=a("label",{class:"text-lg"},"No items found",-1),Z=[Y],ee={class:"flex flex-col gap-3"},te=a("label",{for:"item"},"Item",-1),ae={key:0,class:"flex gap-3"},le=["value","onUpdate:modelValue"],oe=["src"],se=["for"],ce=["for"],ne={key:1,class:"bg-slate-700 p-3 rounded-lg"},de={__name:"ItemView",setup(re){S();const f=R(),t=y({id:"",name:"",game:{},category:{},item:"",loginMethod:{}}),m=y({items:[]}),M=async()=>{try{const c=x(h,"game",f.params.id),r=await D(c);t.value.game=r.data(),t.value.loginMethod=t.value.game.method.reduce((i,V)=>(i[V.name]="",i),{});const e=_(c,"products"),l=await b(e);t.value.game.products=l.docs.map(i=>i.data()),t.value.game.products.length>0&&(t.value.category=t.value.game.products[0],v())}catch(c){console.error("Error fetching game data:",c)}},v=async()=>{try{const c=_(h,"game",f.params.id,"products"),r=x(c,t.value.category.id),e=_(r,"items"),l=await b(e);m.value.items=l.docs.map(i=>i.data())}catch(c){console.error("Error fetching items:",c)}};return U(()=>{M()}),(c,r)=>(o(),s("div",E,[a("h1",N,n(t.value.game.name),1),a("div",I,[a("div",z,[a("img",{src:t.value.game.image,alt:""},null,8,F),a("div",null,[a("p",L,n(t.value.game.desc),1)])]),a("div",$,[a("form",j,[t.value.game.method?(o(!0),s(d,{key:0},u(t.value.game.method,e=>(o(),s("div",G,[a("label",{for:e.name},n(e.name),9,q),e.type!=="select"?g((o(),s("input",{key:0,type:e.type,placeholder:`Enter your ${e.name}`,class:"bg-slate-700 p-3 rounded-lg text-lg",id:e.name,"onUpdate:modelValue":l=>t.value.loginMethod[e.name]=l},null,8,A)),[[B,t.value.loginMethod[e.name]]]):p("",!0),e.type==="select"?g((o(),s("select",{key:1,class:"bg-slate-700 p-3 rounded-lg text-lg",id:e.name,"onUpdate:modelValue":l=>t.value.loginMethod[e.name]=l},[a("option",J,"Select "+n(e.name),1),(o(!0),s(d,null,u(e.options,l=>(o(),s("option",{key:l},n(l),1))),128))],8,H)),[[C,t.value.loginMethod[e.name]]]):p("",!0)]))),256)):p("",!0),a("div",K,[O,a("div",P,[t.value.game.products?(o(!0),s(d,{key:0},u(t.value.game.products,e=>(o(),s("div",{key:e.id,class:w([t.value.category.id==e.id?"bg-blue-500 ":"bg-slate-600","flex flex-col gap-2 relative w-4/12 p-3 rounded-lg justify-center items-center text-center"])},[g(a("input",{onChange:v,value:e,"onUpdate:modelValue":r[0]||(r[0]=l=>t.value.category=l),class:"absolute opacity-0 cursor-pointer w-full h-full top-0 left-0",type:"radio",name:"category",id:"category"},null,40,Q),[[k,t.value.category]]),a("img",{src:e.image,alt:""},null,8,T),a("label",{class:"text-lg",for:"category_"+e},n(e.name),9,W)],2))),128)):(o(),s("div",X,Z))])]),a("div",ee,[te,m.value.items.length>0?(o(),s("div",ae,[(o(!0),s(d,null,u(m.value.items,e=>(o(),s("div",{key:e.id,class:w([t.value.item.id==e.id?"bg-blue-500 ":"bg-slate-600","flex flex-col relative w-4/12 p-3 rounded-lg items-center text-center"])},[g(a("input",{value:e,"onUpdate:modelValue":l=>t.value.item=l,class:"absolute opacity-0 cursor-pointer w-full h-full top-0 left-0",type:"radio",name:"category",id:"category"},null,8,le),[[k,t.value.item]]),a("img",{src:t.value.category.image,alt:""},null,8,oe),a("label",{class:"text-lg",for:"category_"+e.id},n(e.name),9,se),a("label",{class:"text-lg",for:"category_"+e.id},"Rp "+n(e.price.toLocaleString()),9,ce)],2))),128))])):(o(),s("div",ne,"No item added"))])])])])]))}};export{de as default};
