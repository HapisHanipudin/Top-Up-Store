import{u as S,l as R,r as y,o as U,b as s,c as o,e as l,t as n,F as d,f as u,m as p,k as h,n as x,p as D,g as _,h as b,s as g,v as B,x as C,y as w,z as k}from"./index-yi8XQu8U.js";const E={class:"container flex flex-col gap-3 p-4"},N={class:"text-3xl font-bold mt-3"},I={class:"flex flex-col lg:flex-row gap-3"},z={class:"lg:w-96 w flex flex-col gap-3"},F=["src"],L={class:"bg-slate-700 p-3 rounded-md"},$={class:"flex flex-col w-full"},j={action:"#",class:"flex flex-col gap-3"},G={class:"flex flex-col gap-3"},q=["for"],A=["type","placeholder","id","onUpdate:modelValue"],H=["id","onUpdate:modelValue"],J={selected:"",value:""},K={class:"flex flex-col gap-3 bg-slate-700 p-3 rounded-lg"},O=l("label",{for:"currency"},"Currency",-1),P={class:"flex gap-3"},Q=["value"],T=["src"],W=["for"],X={key:1,class:"flex flex-col relative w-4/12 p-3 rounded-lg items-center text-center bg-slate-600"},Y=l("label",{class:"text-lg"},"No items found",-1),Z=[Y],ee={class:"flex flex-col gap-3"},te=l("label",{for:"item"},"Item",-1),le={key:0,class:"flex gap-3"},ae=["value","onUpdate:modelValue"],se=["src"],oe=["for"],ce=["for"],ne={key:1,class:"bg-slate-700 p-3 rounded-lg"},de={__name:"ItemView",setup(re){S();const f=R(),t=y({id:"",name:"",game:{},currency:{},item:"",loginMethod:{}}),m=y({items:[]}),M=async()=>{try{const c=x(h,"game",f.params.id),r=await D(c);t.value.game=r.data(),t.value.loginMethod=t.value.game.method.reduce((i,V)=>(i[V.name]="",i),{});const e=_(c,"products"),a=await b(e);t.value.game.products=a.docs.map(i=>i.data()),t.value.game.products.length>0&&(t.value.currency=t.value.game.products[0],v())}catch(c){console.error("Error fetching game data:",c)}},v=async()=>{try{const c=_(h,"game",f.params.id,"products"),r=x(c,t.value.currency.id),e=_(r,"items"),a=await b(e);m.value.items=a.docs.map(i=>i.data())}catch(c){console.error("Error fetching items:",c)}};return U(()=>{M()}),(c,r)=>(s(),o("div",E,[l("h1",N,n(t.value.game.name),1),l("div",I,[l("div",z,[l("img",{src:t.value.game.image,alt:""},null,8,F),l("div",null,[l("p",L,n(t.value.game.desc),1)])]),l("div",$,[l("form",j,[t.value.game.method?(s(!0),o(d,{key:0},u(t.value.game.method,e=>(s(),o("div",G,[l("label",{for:e.name},n(e.name),9,q),e.type!=="select"?g((s(),o("input",{key:0,type:e.type,placeholder:`Enter your ${e.name}`,class:"bg-slate-700 p-3 rounded-lg text-lg",id:e.name,"onUpdate:modelValue":a=>t.value.loginMethod[e.name]=a},null,8,A)),[[B,t.value.loginMethod[e.name]]]):p("",!0),e.type==="select"?g((s(),o("select",{key:1,class:"bg-slate-700 p-3 rounded-lg text-lg",id:e.name,"onUpdate:modelValue":a=>t.value.loginMethod[e.name]=a},[l("option",J,"Select "+n(e.name),1),(s(!0),o(d,null,u(e.options,a=>(s(),o("option",{key:a},n(a),1))),128))],8,H)),[[C,t.value.loginMethod[e.name]]]):p("",!0)]))),256)):p("",!0),l("div",K,[O,l("div",P,[t.value.game.products?(s(!0),o(d,{key:0},u(t.value.game.products,e=>(s(),o("div",{key:e.id,class:w([t.value.currency.id==e.id?"bg-blue-500 ":"bg-slate-600","flex flex-col gap-2 relative w-4/12 p-3 rounded-lg justify-center items-center text-center"])},[g(l("input",{onChange:v,value:e,"onUpdate:modelValue":r[0]||(r[0]=a=>t.value.currency=a),class:"absolute opacity-0 cursor-pointer w-full h-full top-0 left-0",type:"radio",name:"currency",id:"currency"},null,40,Q),[[k,t.value.currency]]),l("img",{src:e.image,alt:""},null,8,T),l("label",{class:"text-lg",for:"category_"+e},n(e.name),9,W)],2))),128)):(s(),o("div",X,Z))])]),l("div",ee,[te,m.value.items.length>0?(s(),o("div",le,[(s(!0),o(d,null,u(m.value.items,e=>(s(),o("div",{key:e.id,class:w([t.value.item.id==e.id?"bg-blue-500 ":"bg-slate-600","flex flex-col relative w-4/12 p-3 rounded-lg items-center text-center"])},[g(l("input",{value:e,"onUpdate:modelValue":a=>t.value.item=a,class:"absolute opacity-0 cursor-pointer w-full h-full top-0 left-0",type:"radio",name:"currency",id:"currency"},null,8,ae),[[k,t.value.item]]),l("img",{src:t.value.currency.image,alt:""},null,8,se),l("label",{class:"text-lg",for:"category_"+e.id},n(e.name),9,oe),l("label",{class:"text-lg",for:"category_"+e.id},"Rp "+n(e.price.toLocaleString()),9,ce)],2))),128))])):(s(),o("div",ne,"No item added"))])])])])]))}};export{de as default};
